<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Malla Curricular - Medicina Humana</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #f2efff;
      margin: 0;
      padding: 2rem;
      text-align: center;
    }
    h1 {
      color: #6a1b9a;
    }
    .grid {
      display: flex;
      justify-content: flex-start;
      flex-wrap: nowrap;
      gap: 1.5rem;
      overflow-x: auto;
      margin-top: 2rem;
    }
    .column {
      background: #d1b3ff;
      border-radius: 10px;
      padding: 1rem;
      width: 180px;
      min-width: 180px;
    }
    .ciclo-title {
      font-weight: bold;
      color: white;
      margin-bottom: 1rem;
    }
    .curso {
      background: #a3d5f7;
      color: black;
      margin: 0.3rem 0;
      padding: 0.5rem;
      border-radius: 5px;
      cursor: pointer;
    }
    .curso.aprobado {
      background-color: #9c27b0;
      color: white;
      text-decoration: line-through;
    }
    .curso.bloqueado {
      background-color: #ccc;
      color: #666;
      cursor: not-allowed;
    }
  </style>
</head>
<body>
  <h1>Malla Curricular - Medicina Humana</h1>
  <div class="grid" id="malla"></div>

  <script>
    const ciclos = [
      5, 7, 7, 7, 7, 6, 6, 7, 5, 4, 4, 4, 2, 3
    ];

    const nombres = [
      ["Complemento de Matemática", "Fundamentos Biológicos 1", "Morfología y Fisiología Clínica", "Comunicación 1", "Desarrollo del Talento"],
      ["Introducción a la Medicina", "Habilidades Comunicativas en Salud", "Gestión de Información Científica", "Fundamentos Biológicos 2", "Sistema Tegumentario", "Sistema Nervioso", "Anatomía General"],
      ["Bioquímica", "Fisiología General", "Embriología", "Histología", "Anatomía Sistémica", "Psicología Médica", "Sociología Médica"],
      ["Patología General", "Microbiología", "Farmacología 1", "Immunología", "Bioestadística", "Metodología Científica", "Salud Pública 1"],
      ["Farmacología 2", "Fisiopatología", "Parasitología", "Terapéutica General", "Psicopatología", "Salud Pública 2", "Ética Médica"],
      ["Semiología 1", "Radiología Básica", "Salud Mental", "Cirugía General 1", "Medicina Interna 1", "Epidemiología Clínica"],
      ["Semiología 2", "Pediatría 1", "Gineco-obstetricia 1", "Medicina Interna 2", "Cirugía General 2", "Salud Comunitaria"],
      ["Pediatría 2", "Gineco-obstetricia 2", "Medicina Interna 3", "Cirugía Especial", "Urgencias y Emergencias", "Medicina Familiar", "Investigación Clínica 1"],
      ["Internado de Pediatría", "Internado de Gineco-obstetricia", "Internado de Cirugía", "Internado de Medicina Interna", "Electivo Clínico"],
      ["Internado Rural 1", "Internado Rural 2", "Gestión Sanitaria", "Electivo Comunitario"],
      ["Rotación Clínica 1", "Rotación Clínica 2", "Rotación Clínica 3", "Electivo Libre 1"],
      ["Rotación Clínica 4", "Rotación Clínica 5", "Rotación Clínica 6", "Electivo Libre 2"],
      ["Internado Electivo", "Investigación Clínica 2"],
      ["Tesis 1", "Tesis 2", "Electivo Final"]
    ];

    const container = document.getElementById("malla");

    ciclos.forEach((nCursos, i) => {
      const col = document.createElement("div");
      col.className = "column";
      const cicloTitle = document.createElement("div");
      cicloTitle.className = "ciclo-title";
      cicloTitle.innerText = "Ciclo " + (i + 1);
      col.appendChild(cicloTitle);

      for (let j = 0; j < nCursos; j++) {
        const curso = document.createElement("div");
        curso.className = "curso";
        curso.textContent = nombres[i][j] || "Curso " + (j + 1);
        curso.addEventListener("click", () => {
          if (!curso.classList.contains("bloqueado")) {
            curso.classList.toggle("aprobado");
            localStorage.setItem("curso_" + i + "_" + j, curso.classList.contains("aprobado"));
          }
        });

        if (localStorage.getItem("curso_" + i + "_" + j) === "true") {
          curso.classList.add("aprobado");
        }

        col.appendChild(curso);
      }

      container.appendChild(col);
    });
  </script>
</body>
</html>
